body {
  $max-mobile-width: 400px;

  overflow-x: hidden;

  .site-container {
    position: relative;
    transition: transform $common-transition-duration;

    .page-container {
      .mobile-nav-menu-overlay {
        background-color: theme-color('transparent_dark');
        bottom: 0;
        content: '';
        display: block;
        left: 0;
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transition: background-color $common-transition-duration, z-index 0 $common-transition-duration;
        z-index: -1;
      }
    }
  }

  .nav-primary--mobile {
    background-color: theme-color('dark');
    left: 100%;
    height: 100vh;
    overflow-y: scroll;
    position: absolute;
    top: 0;
    width: 100%;

    @include media-breakpoint-up(sm) {
      width: $max-mobile-width;
    }

    li {
      list-style: none;
    }

    ul {
      padding-left: 0;
    }

    .nav {
      display: block;
    }

    .menu-item > a {
      border-bottom: 1px solid theme-color('medium');
      color: theme-color('base');
      display: block;
      fill: theme-color('base');
      font-family: $font-sans-serif;
      font-size: 18px;
      padding: 1em 2em;
      text-decoration: none;
      text-transform: uppercase;
      transition: all $common-transition-duration;

      @include media-breakpoint-up(lg) {
        font-size: 22px;
      }
    }

    .nav-primary__close-button {
      background-color: transparent;
      border: none;
      color: inherit;
      cursor: pointer;
      fill: inherit;
      line-height: 1;
      padding: 0;
      position: absolute;
      right: 20px;
      top: 20px;
    }

    .nav-primary__close-button-image {
      $size: 20px;

      background-color: transparent;
      fill: inherit;
      height: $size;
      width: $size;
    }

    .menu-item.current_page_item > a {
      background-color: theme-color('base');
      color: theme-color('dark');
      fill: theme-color('dark');
    }

    .menu-item > a:hover {
      background-color: theme-color('base');
      color: theme-color('dark');
      fill: theme-color('dark');
    }

    .menu-item.current_page_ancestor > a {
      background-color: theme-color('dark');
      color: theme-color('base');
      fill: theme-color('base');
    }

    .menu-item > a[href='#']:hover {
      background-color: theme-color('dark');
      color: theme-color('base');
      cursor: inherit;
      fill: theme-color('base');
    }

    .sub-menu {
      padding-left: 0;

      .menu-item > a {
        text-transform: initial;
        padding-left: 4em;
      }
    }
  }

  &.mobile-nav-menu-open {
    overflow-y: hidden;

    .site-container {
      height: 100vh;
      transform: translate3d(-100%, 0, 0);

      @include media-breakpoint-up(sm) {
        transform: translate3d(-$max-mobile-width, 0, 0);
      }

      .page-container {
        .mobile-nav-menu-overlay {
          cursor: pointer;
          opacity: 1;
          z-index: 1;
        }
      }
    }
  }
}
